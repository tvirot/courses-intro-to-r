---
title_meta  : บทที่ 4
title       : Factors
description : มีอยู่บ่อยครั้งที่ข้อมูลของเราถูกเก็บอยู่ในรูปของข้อมูลที่ใช้แบ่งกลุ่ม (categorical data) ยกตัวอย่างเช่น มนุษย์นั้นมี 2 เพศคือชายและหญิง ใน R ข้อมูลที่แสดงถึงการแบ่งกลุ่มจะถูกเก็บในรูปแบบที่เรียกว่า factor ซึ่งเราจะให้คุณได้เรียนรู้ถึงวิธีการสร้างและจัดการกับ factor ในบทนี้

--- type:NormalExercise xp:100 skills:1 key:05273321916d99bb9c0deadf75c6834d25a47244
## Factor คืออะไรและทำไมเราถึงต้องใช้มัน?

ในบทนี้ เราจะให้คุณได้เรียนรู้เกี่ยวกับข้อมูลอีกแบบหนึ่งซึ่งเรียกว่า **factor**

คำว่า factor นั้นหมายถึงข้อมูลในทางสถิติที่ใช้ในการแบ่งกลุ่มข้อมูล ข้อแตกต่างระหว่างข้อมูลที่ใช้แบ่งกลุ่ม(categorical data) กับข้อมูลแบบอื่นๆทั่วไปหรือแบบต่อเนื่อง (continuous data) คือ ข้อมูลที่ใช้แบ่งกลุ่มนั้นจะ**มีค่าเพียงไม่กี่แบบ**(เช่นมีแค่ เพศชาย และ เพศหญิง) ในขณะที่ข้อมูลอื่นๆทั่วไปสามารถมีค่าได้หลากหลายกว่าจนอาจจะไม่สามารถนับได้(เช่น เลข 1 ถึง 1,000)

การที่เราระบุประเภทข้อมูลให้ R รู้อย่างชัดเจนว่า ข้อมูลนี้คือ categorical หรือ continuous จะช่วยให้ R สามารถทำงานได้ดีขึ้นในการสร้าง model ในการวิเคราะห์ข้อมูล (เนื่องจาก R จะปฏิบัติต่อ categorical data แตกต่างจาก continuous data)

ตัวอย่างที่ดีของตัวแปรที่ใช้แบ่งกลุ่มคือ 'เพศ' เนื่องจากมนุษย์ทุกคนสามารถถูกแบ่งเป็นกลุ่มได้แค่เพศ "ชาย" หรือ "หญิง" เท่านั้น เราจึงสามารถใช้ 'เพศ' เป็นตัวแปรในการแบ่งกลุ่มได้

*** =instructions
กำหนดให้ตัวแปร `theory` มีค่าเป็น `"factors for categorical variables"`

*** =hint
แค่ใช้คำสั่งกำหนดค่า (`<-`) และตรวจสอบให้แน่ใจว่าคุณได้พิมพ์เป็นตัวพิมพ์เล็กทั้งหมด

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Assign to the variable theory what this chapter is about!
```

*** =solution
```{r}
# Assign to the variable theory what this chapter is about!
theory <- "factors for categorical variables"
```

*** =sct
```{r}
# MC-note: ideally, we could check for commonly mistyped variable names
#test_or({
#    bad_names <- c('Theory', "teory", "thoery", "theroy", "theiory", 'gender', 'value')
#    lapply(bad_names, test_object, eval=FALSE)
#    })

msg_undef <- paste("&#3604;&#3641;&#3648;&#3627;&#3617;&#3639;&#3629;&#3609;&#3623;&#3656;&#3634;&#3588;&#3640;&#3603;&#3618;&#3633;&#3591;&#3652;&#3617;&#3656;&#3652;&#3604;&#3657;&#3626;&#3619;&#3657;&#3634;&#3591;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;", "`theory`")
# ดูเหมือนว่าคุณยังไม่ได้สร้างตัวแปร `theory`

msg_incor <- paste("&#3605;&#3619;&#3623;&#3592;&#3626;&#3629;&#3610;&#3651;&#3627;&#3657;&#3649;&#3609;&#3656;&#3651;&#3592;&#3623;&#3656;&#3634;&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3585;&#3635;&#3627;&#3609;&#3604;&#3588;&#3656;&#3634;&#3586;&#3629;&#3591;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;", "`theory`", "&#3651;&#3627;&#3657;&#3648;&#3607;&#3656;&#3634;&#3585;&#3633;&#3610;", "`\"factors for categorical variables\"`", "&#40;&#3605;&#3657;&#3629;&#3591;&#3648;&#3611;&#3655;&#3609;&#3605;&#3633;&#3623;&#3614;&#3636;&#3617;&#3614;&#3660;&#3648;&#3621;&#3655;&#3585;&#3607;&#3633;&#3657;&#3591;&#3627;&#3617;&#3604;&#41;")
# ตรวจสอบให้แน่ใจว่าคุณได้กำหนดค่าของตัวแปร `theory` ให้เท่ากับ `\"factors for categorical variables\"` (ต้องเป็นตัวพิมพ์เล็กทั้งหมด)

msg_err <- paste("&#3605;&#3619;&#3623;&#3592;&#3626;&#3629;&#3610;&#3651;&#3627;&#3657;&#3649;&#3609;&#3656;&#3651;&#3592;&#3623;&#3656;&#3634;&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3626;&#3619;&#3657;&#3634;&#3591;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;", "`theory", "&#3629;&#3618;&#3656;&#3634;&#3591;&#3606;&#3641;&#3585;&#3605;&#3657;&#3629;&#3591;&#3650;&#3604;&#3618;&#3651;&#3594;&#3657;&#3588;&#3635;&#3626;&#3633;&#3656;&#3591;", "`<-`", "&#3651;&#3609;&#3585;&#3634;&#3619;&#3585;&#3635;&#3627;&#3609;&#3604;&#3588;&#3656;&#3634;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;")
# ตรวจสอบให้แน่ใจว่าคุณได้สร้างตัวแปร `theory` อย่างถูกต้องโดยใช้คำสั่ง `<-` ในการกำหนดค่าตัวแปร

success_msg <- "&#3648;&#3618;&#3637;&#3656;&#3618;&#3617;&#3617;&#3634;&#3585;&#33;&#32;&#3614;&#3619;&#3657;&#3629;&#3617;&#3607;&#3637;&#3656;&#3592;&#3632;&#3648;&#3619;&#3637;&#3618;&#3609;&#3619;&#3641;&#3657;&#3627;&#3619;&#3639;&#3629;&#3618;&#3633;&#3591;&#63;&#32;&#3648;&#3619;&#3634;&#3652;&#3611;&#3604;&#3641;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3585;&#3633;&#3609;&#3648;&#3621;&#3618;"
# เยี่ยมมาก! พร้อมที่จะเรียนรู้หรือยัง? เราไปดูแบบฝึกหัดต่อไปกันเลย

# If get error and theory is undefined, point out the error
test_or(test_error(msg_err), test_object("theory", eval = FALSE))

test_object("theory", undefined_msg = msg_undef, incorrect_msg = msg_incor)
success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:6cc21c842b075347926bb1b244782213df32e370
## Factor คืออะไรและทำไมเราถึงต้องใช้มัน? (2)

คุณสามารถใช้ function [`factor()`](http://www.rdocumentation.org/packages/base/functions/factor) เพื่อบอก R ว่านี่คือข้อมูลที่ใช้ในการแบ่งกลุ่มได้ สิ่งแรกที่คุณต้องทำก็คือสร้าง vector ของข้อมูลที่ใช้ในการแบ่งกลุ่ม ยกตัวอย่างเช่น `gender_vector` ที่เก็บข้อมูลเพศของคน 5 คนเอาไว้ดังตัวอย่าง:

```
gender_vector <- c("Male","Female","Female","Male","Male")
```

เราสามารถเห็นได้อย่างชัดเจนว่าข้อมูลถูกแบ่งออกเป็น 2 กลุ่มด้วยกัน (หรือในภาษา R เรียกว่า **'factor levels'**) ได้แก่ "Male" และ "Female".

และการใช้ function [`factor()`](http://www.rdocumentation.org/packages/base/functions/factor) จะทำการเปลี่ยนข้อมูลใน vector ให้เป็น factor:

```
factor_gender_vector <- factor(gender_vector)
```

*** =instructions
- แปลง vector ของข้อมูลแบบตัวอักษร `gender_vector` ให้เป็นข้อมูลแบบ factor ด้วย function `factor()` จากนั้นเก็บผลลัพธ์ไว้ในตัวแปร `factor_gender_vector`
- แสดงค่า `factor_gender_vector` และลองตรวจสอบดูว่า R ได้แสดง factor levels ต่างๆอย่างไร (เป็นการแสดงค่าที่ต่างไปจากตัวแปรปกติ)

*** =hint
แค่ใช้ function [`factor()`](http://www.rdocumentation.org/packages/base/functions/factor) กับ `gender_vector` เท่านั้น คุณก็จะได้ส่วนหนึ่งของคำตอบ ลองดูที่แบบฝึกหัดให้ดีๆอีกครั้ง คำตอบอยู่ในนั้นแล้ว...

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Gender vector
gender_vector <- c("Male", "Female", "Female", "Male", "Male")

# Convert gender_vector to a factor
factor_gender_vector <-

# Print out factor_gender_vector

```

*** =solution
```{r}
# Gender vector
gender_vector <- c("Male", "Female", "Female", "Male", "Male")

# Convert gender_vector to a factor
factor_gender_vector <- factor(gender_vector)

# Print out factor_gender_vector
factor_gender_vector
```

*** =sct
```{r}
object_msg <- paste("&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3585;&#3635;&#3627;&#3609;&#3604;&#3651;&#3627;&#3657;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;", "`factor_gender_vector`", "&#3617;&#3637;&#3588;&#3656;&#3634;&#3648;&#3607;&#3656;&#3634;&#3585;&#3633;&#3610;&#3586;&#3657;&#3629;&#3617;&#3641;&#3621;&#3649;&#3610;&#3610;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#3592;&#3634;&#3585;", "`gender_vector`", "&#3627;&#3619;&#3639;&#3629;&#3618;&#3633;&#3591;&#63;")
# คุณได้กำหนดให้ตัวแปร `factor_gender_vector` มีค่าเท่ากับข้อมูลแบบ factor จาก `gender_vector` หรือยัง?

output_msg <- paste("&#3629;&#3618;&#3656;&#3634;&#3621;&#3639;&#3617;&#3626;&#3633;&#3656;&#3591;&#3649;&#3626;&#3604;&#3591;&#3588;&#3656;&#3634;", "`factor_gender_vector`!")
# อย่าลืมสั่งแสดงค่า `factor_gender_vector`!

success_msg <- paste("&#3648;&#3618;&#3637;&#3656;&#3618;&#3617;&#33;&#32;&#3606;&#3657;&#3634;&#3588;&#3640;&#3603;&#3605;&#3657;&#3629;&#3591;&#3585;&#3634;&#3619;&#3588;&#3635;&#3629;&#3608;&#3636;&#3610;&#3634;&#3618;&#3648;&#3614;&#3636;&#3656;&#3617;&#3648;&#3605;&#3636;&#3617;&#3648;&#3585;&#3637;&#3656;&#3618;&#3623;&#3585;&#3633;&#3610;&#32;&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;", "`factor()`", "&#3649;&#3588;&#3656;&#3588;&#3640;&#3603;&#3614;&#3636;&#3617;&#3614;&#3660;", "`?factor`", "&#3621;&#3591;&#3652;&#3611;&#3651;&#3609;&#32;&#67;&#111;&#110;&#115;&#111;&#108;&#101;&#32;&#3585;&#3655;&#3592;&#3632;&#3648;&#3611;&#3655;&#3609;&#3585;&#3634;&#3619;&#3648;&#3611;&#3636;&#3604;&#3627;&#3609;&#3657;&#3634;&#32;&#104;&#101;&#108;&#112;&#32;&#3595;&#3638;&#3656;&#3591;&#3592;&#3632;&#3617;&#3637;&#3588;&#3635;&#3629;&#3608;&#3636;&#3610;&#3634;&#3618;&#3648;&#3614;&#3636;&#3656;&#3617;&#3648;&#3605;&#3636;&#3617;&#3629;&#3618;&#3641;&#3656;&#3651;&#3609;&#3609;&#3633;&#3657;&#3609;&#32;&#3649;&#3605;&#3656;&#3605;&#3629;&#3609;&#3609;&#3637;&#3657;&#32;&#3652;&#3611;&#3604;&#3641;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3585;&#3633;&#3609;&#3604;&#3637;&#3585;&#3623;&#3656;&#3634;")
# เยี่ยม! ถ้าคุณต้องการคำอธิบายเพิ่มเติมเกี่ยวกับ function `factor()` แค่คุณพิมพ์ `?factor` ลงไปใน Console ก็จะเป็นการเปิดหน้า help ซึ่งจะมีคำอธิบายเพิ่มเติมอยู่ในนั้น แต่ตอนนี้ ไปดูแบบฝึกหัดต่อไปกันดีกว่า

test_object("factor_gender_vector", incorrect_msg = object_msg)
test_output_contains("factor_gender_vector", incorrect_msg = output_msg)
success_msg(success_msg);
```


--- type:NormalExercise xp:100 skills:1 key:5bd4f50afc2c2dbc881e16b8ca94ca56960dff42
## Factor คืออะไรและทำไมเราถึงต้องใช้มัน? (3)

ตัวแปรที่ใช้ในการแบ่งกลุ่มมีอยู่ 2 ประเภทด้วยกัน ได้แก่ **nominal** และ **ordinal**.

ตัวแปรแบบ nominal คือตัวแปรในการแบ่งกลุ่มที่ไม่แสดงถึงลำดับ(คือเราไม่สามารถบอกได้ว่ากลุ่มหนึ่งมีค่ามากกว่าอีกกลุ่มหนึ่งหรือไม่) ยกตัวอย่างเช่น ข้อมูลชื่อชนิดของสัตว์ในตัวแปร `animals_vector` ซึ่งประกอบด้วย `"Elephant"`, `"Giraffe"`, `"Donkey"` และ `"Horse"` ซึ่งจะเห็นได้ว่าเราไม่สามารถเรียงลำดับข้อมูลเหล่านี้ตามค่าของมันได้เพราะเราไม่สามารถบอกได้ว่าชื่อของสัตว์ประเภทหนึ่งมีค่ามากกว่าอีกประเภทหนึ่งหรือไม่

ในทางตรงกันข้าม เราสามารถเรียงลำดับตัวแปรแบบ ordinal ได้ ยกตัวอย่างเช่น ข้อมูลอุณหภูมิในตัวแปร `temperature_vector` ซึ่งประกอบด้วย `"Low"`, `"Medium"` และ `"High"` ซึ่งจากข้อมูลชุดนี้เราเห็นได้ชัดเจนว่า `"Medium"` มีค่ามากกว่า `"Low"` และ `"High"` มีค่ามากกว่า `"Medium"` เราจึงสามารถเรียงลำดับข้อมูลชุดนี้ได้

*** =instructions
กดปุ่ม 'Submit Answer' เพื่อดูว่า R สร้างและแสดงค่าตัวแปรแบบ nominal และ ordinal อย่างไร ไม่ต้องห่วงถ้าคุณยังไม่เข้าใจโค้ดทั้งหมด เดี๋ยวคุณจะเข้าใจมากขึ้นในแบบฝึกหัดต่อๆไป

*** =hint
แค่กดปุ่ม 'Submit Answer' แล้วดูที่ Console แล้วลองดูว่า R แสดงการเรียงลำดับของ factor levels สำหรับตัวแปรแบบ ordinal อย่างไร

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Animals
animals_vector <- c("Elephant", "Giraffe", "Donkey", "Horse")
factor_animals_vector <- factor(animals_vector)
factor_animals_vector

# Temperature
temperature_vector <- c("High", "Low", "High","Low", "Medium")
factor_temperature_vector <- factor(temperature_vector, order = TRUE, levels = c("Low", "Medium", "High"))
factor_temperature_vector
```

*** =solution
```{r}
# Animals
animals_vector <- c("Elephant", "Giraffe", "Donkey", "Horse")
factor_animals_vector <- factor(animals_vector)
factor_animals_vector

# Temperature
temperature_vector <- c("High", "Low", "High","Low", "Medium")
factor_temperature_vector <- factor(temperature_vector, order = TRUE, levels = c("Low", "Medium", "High"))
factor_temperature_vector
```

*** =sct
```{r}
msg <- "&#3629;&#3618;&#3656;&#3634;&#3648;&#3611;&#3621;&#3637;&#3656;&#3618;&#3609;&#3650;&#3588;&#3657;&#3604;&#3605;&#3633;&#3623;&#3629;&#3618;&#3656;&#3634;&#3591;&#3607;&#3637;&#3656;&#3648;&#3605;&#3619;&#3637;&#3618;&#3617;&#3652;&#3623;&#3657;&#3651;&#3627;&#3657;&#32;&#3649;&#3588;&#3656;&#3585;&#3604;&#3611;&#3640;&#3656;&#3617;&#32;&#39;&#83;&#117;&#98;&#109;&#105;&#116;&#32;&#65;&#110;&#115;&#119;&#101;&#114;&#39;&#32;&#3585;&#3655;&#3614;&#3629;&#33;"
# อย่าเปลี่ยนโค้ดตัวอย่างที่เตรียมไว้ให้ แค่กดปุ่ม 'Submit Answer' ก็พอ!

success_msg <- "&#3626;&#3633;&#3591;&#3648;&#3585;&#3605;&#3652;&#3627;&#3617;&#3623;&#3656;&#3634;&#3648;&#3585;&#3636;&#3604;&#3629;&#3632;&#3652;&#3619;&#3586;&#3638;&#3657;&#3609;&#3585;&#3633;&#3610;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;&#3649;&#3610;&#3610;&#32;&#111;&#114;&#100;&#105;&#110;&#97;&#108;&#63;&#32;&#3621;&#3629;&#3591;&#3652;&#3611;&#3604;&#3641;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3648;&#3585;&#3637;&#3656;&#3618;&#3623;&#3585;&#3633;&#3610;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#108;&#101;&#118;&#101;&#108;&#115;&#32;&#3585;&#3633;&#3609;&#3648;&#3621;&#3618;"
# สังเกตไหมว่าเกิดอะไรขึ้นกับตัวแปรแบบ ordinal? ลองไปดูแบบฝึกหัดต่อไปเกี่ยวกับ factor levels กันเลย

test_object("animals_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("temperature_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("factor_animals_vector", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("factor_animals_vector", incorrect_msg = msg)
test_object("factor_temperature_vector", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("factor_temperature_vector", incorrect_msg = msg)
success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:1aa698978d32d1a0befa4700d7da85a648e1d69e
## Factor levels

ในบางครั้งคุณอาจจะอยากเปลี่ยนค่าของ factor ต่างๆเพื่อเพิ่มความชัดเจนของข้อมูลหรือเพื่อให้การอ่านข้อมูลทำได้ง่ายขึ้น โดยคุณสามารถใช้ function [`levels()`](http://www.rdocumentation.org/packages/base/functions/levels) ในการเปลี่ยนค่า factor ต่างๆได้ ตามตัวอย่างโค้ดด้านล่าง:

```
levels(factor_vector) <- c("name1", "name2",...)
```

ลองนึกภาพเวลาที่คุณเก็บข้อมูลจากการทำแบบสำรวจ คำถามทั่วๆไปที่แบบสำรวจมักจะเก็บทุกครั้งคือ เพศของผู้ตอบแบบสำรวจ ซึ่งเป็นข้อมูลที่ใช้ในการแบ่งกลุ่ม โดยที่เพศชายและหญิงอาจถูกแทนค่าด้วยตัวอักษร `"M"` และ `"F"` ตามลำดับ

```
survey_vector <- c("M", "F", "F", "M", "M")
```

ต่อมา เมื่อคุณจะทำการวิเคราะห์ข้อมูล คุณอยากให้ตัวแปรที่อยู่ในข้อมูลอ่านเข้าใจได้ง่ายขึ้น คุณจึงต้องการเปลี่ยน factor levels จาก `"M"` และ `"F"` ไปเป็น `"Male"` และ `"Female"`

**ข้อควรระวัง:** ลำดับของการกำหนด factor levels ใหม่มีความสำคัญ ถ้าคุณลองพิมพ์คำสั่ง `levels(factor_survey_vector)` ลงไปใน Console คุณจะเห็นค่าที่แสดงออกมาเป็น `[1] "F" "M"` นั่นเป็นเพราะเมื่อคุณสร้าง factor โดยไม่ได้กำหนดลำดับชัดเจนให้กับ factor `R` จะทำการเรียงลำดับ factor ต่างๆตามตัวอักษร และในการที่จะเปลี่ยน `"F"` เป็น `"Female"` และ `"M"` เป็น `"Male"` ได้อย่างถูกต้อง คุณจึงต้องเรียงลำดับ factor levels ที่กำหนดขึ้นใหม่ให้เป็น `c("Female", "Male")` ตามลำดับเดิมของ `"F"` และ `"M"`

*** =instructions
- ลองดูโค้ดที่ใช้สร้าง vector ของข้อมูล factor และเก็บไว้ใน `survey_vector` ดู
- เปลี่ยน factor levels ของ `factor_survey_vector` ให้เป็น `c("Female", "Male")` อย่าลืมว่าคุณต้องเรียงตามลำดับตามตัวอักษรด้วย

*** =hint
ลำดับของ factor levels นั้นเป็นเรื่องสำคัญ ลองดูลำดับของ factor levels โดยการพิมพ์ `levels(factor_survey_vector)` ลงไปใน Console

*** =pre_exercise_code
```{r}
# no pec
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
```

*** =sample_code
```{r}
# Code to build factor_survey_vector
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)

# Specify the levels of factor_survey_vector
levels(factor_survey_vector) <-

factor_survey_vector
```

*** =solution
```{r}
# Code to build factor_survey_vector
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)

# Specify the levels of factor_survey_vector
levels(factor_survey_vector) <- c("Female", "Male")

factor_survey_vector
```

*** =sct
```{r}
msg = paste("&#3629;&#3618;&#3656;&#3634;&#3648;&#3611;&#3621;&#3637;&#3656;&#3618;&#3609;&#3649;&#3611;&#3621;&#3591;&#3588;&#3656;&#3634;&#3586;&#3629;&#3591;", "`survey_vector`!")
# อย่าเปลี่ยนแปลงค่าของ `survey_factor`!

test_object("survey_vector", undefined_msg = msg, incorrect_msg = msg)
msg = "Do not change or remove the code to create the factor vector."
test_function("factor", "x", not_called_msg = msg, incorrect_msg = msg)

# MC-note: ideally would want to test assign operator `<-`, and have it highlight whole line.

# MC-note: or negate this test_student_typed, to highlight where they type this incorrect phrase
# test_student_typed('c("Male", "Female")')

object_msg <- paste("&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3585;&#3635;&#3627;&#3609;&#3604;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#108;&#101;&#118;&#101;&#108;&#115;&#32;&#3607;&#3637;&#3656;&#3606;&#3641;&#3585;&#3605;&#3657;&#3629;&#3591;&#3651;&#3627;&#3657;&#3585;&#3633;&#3610;", "`factor_survey_vector`", "&#3650;&#3604;&#3618;&#3585;&#3634;&#3619;&#3651;&#3594;&#3657;&#3651;&#3594;&#3657;&#3588;&#3635;&#3626;&#3633;&#3656;&#3591;", "`levels(factor_survey_vector) <- c(\"Female\", \"Male\")`", "&#3649;&#3621;&#3657;&#3623;&#3627;&#3619;&#3639;&#3629;&#3618;&#3633;&#3591;&#63;&#32;&#3649;&#3621;&#3632;&#3629;&#3618;&#3656;&#3634;&#3621;&#3639;&#3617;&#3623;&#3656;&#3634;&#32;&#82;&#32;&#3648;&#3611;&#3655;&#3609;&#3616;&#3634;&#3625;&#3634;&#3607;&#3637;&#3656;&#32;&#99;&#97;&#115;&#101;&#32;&#115;&#101;&#110;&#115;&#105;&#116;&#105;&#118;&#101;&#33;")
# คุณได้กำหนด factor levels ที่ถูกต้องให้กับ `factor_survey_vector` โดยการใช้ใช้คำสั่ง `levels(factor_survey_vector) <- c(\"Female\", \"Male\")` แล้วหรือยัง? และอย่าลืมว่า R เป็นภาษาที่ case sensitive!

success_msg <- "&#3648;&#3618;&#3637;&#3656;&#3618;&#3617;&#3617;&#3634;&#3585;&#33;&#32;&#3652;&#3611;&#3604;&#3641;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3585;&#3633;&#3609;&#3648;&#3621;&#3618;"
# เยี่ยมมาก! ไปดูแบบฝึกหัดต่อไปกันเลย

test_object("factor_survey_vector", eq_condition = "equal", incorrect_msg = object_msg)

success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:a549f13c0644ccc89cd39a10aa48706754637ed0
## การสรุปข้อมูลตาม Factor

หลังจากจบบทนี้ รับรองว่า function [`summary()`](http://www.rdocumentation.org/packages/base/functions/summary) จะกลายเป็น 1 ใน function โปรดของคุณ เพราะ function นี้จะช่วยให้คุณเห็นภาพรวมของตัวแปรต่างๆก่อนจะทำการวิเคราะห์ข้อมูล:

```
summary(my_var)
```

จากแบบฝึกหัดที่แล้ว ถ้าคุณอยากรู้ว่ามีผู้ตอบแบบสอบถามเป็นผู้ชาย(`"Male"`) และผู้หญิง(`"Female"`) กี่คน function [`summary()`](http://www.rdocumentation.org/packages/base/functions/summary) สามารถช่วยคุณได้!

*** =instructions
ลองใช้ function [`summary()`](http://www.rdocumentation.org/packages/base/functions/summary) กับตัวแปร `survey_vector` และ `factor_survey_vector` แล้วลองดูว่า R แสดงผลลัพธ์จากตัวแปรที่เป็น factor และไม่ใช่ factor แตกต่างกันอย่างไร?

*** =hint
เรียกใช้ function [`summary()`](http://www.rdocumentation.org/packages/base/functions/summary) กับตัวแปร `survey_vector` และ `factor_survey_vector` นั่นคือทั้งหมดที่คุณต้องทำ

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")
factor_survey_vector

# Generate summary for survey_vector


# Generate summary for factor_survey_vector

```

*** =solution
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")
factor_survey_vector

# Generate summary for survey_vector
summary(survey_vector)

# Generate summary for factor_survey_vector
summary(factor_survey_vector)
```

*** =sct
```{r}
msg <- paste("&#3629;&#3618;&#3656;&#3634;&#3648;&#3611;&#3621;&#3637;&#3656;&#3618;&#3609;&#3649;&#3611;&#3621;&#3591;&#3588;&#3656;&#3634;&#3586;&#3629;&#3591;", "`survey_vector`", "&#3649;&#3621;&#3632;", "`factor_survey_factor`")
# อย่าเปลี่ยนแปลงค่าของ `survey_vector` และ `factor_survey_factor`

test_object("survey_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("factor_survey_vector", eq_condition = "equal", undefined_msg = msg, incorrect_msg = msg)
msg_1 <- paste("&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3651;&#3594;&#3657;&#32;&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;", "`summary()`", "&#3651;&#3609;&#3585;&#3634;&#3619;&#3626;&#3619;&#3640;&#3611;&#3586;&#3657;&#3629;&#3617;&#3641;&#3621;&#3592;&#3634;&#3585;")
# คุณได้ใช้ function `summary()` ในการสรุปข้อมูลจาก

msg_2 <- "&#3627;&#3619;&#3639;&#3629;&#3618;&#3633;&#3591;&#63;"
# หรือยัง?

success_msg <- paste("&#3648;&#3618;&#3637;&#3656;&#3618;&#3617;&#33;&#32;&#3621;&#3629;&#3591;&#3626;&#3633;&#3591;&#3648;&#3585;&#3605;&#3612;&#3621;&#3621;&#3633;&#3614;&#3608;&#3660;&#3604;&#3641;&#32;&#3585;&#3634;&#3619;&#3607;&#3637;&#3656;&#3588;&#3640;&#3603;&#3619;&#3632;&#3610;&#3640;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#108;&#101;&#118;&#101;&#108;&#115;&#32;&#3648;&#3611;&#3655;&#3609;", "`\"Male\"`", "&#3649;&#3621;&#3632;", "`\"Female\"`", "&#3651;&#3609;", "`factor_survey_vector`", "&#3594;&#3656;&#3623;&#3618;&#3651;&#3627;&#3657;&#32;&#82;&#32;&#3626;&#3634;&#3617;&#3634;&#3619;&#3606;&#3626;&#3619;&#3640;&#3611;&#3592;&#3635;&#3609;&#3623;&#3609;&#3605;&#3633;&#3623;&#3629;&#3618;&#3656;&#3634;&#3591;&#3651;&#3609;&#3649;&#3605;&#3656;&#3621;&#3632;&#3585;&#3621;&#3640;&#3656;&#3617;&#3651;&#3627;&#3657;&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;")
# เยี่ยม! ลองสังเกตผลลัพธ์ดู การที่คุณระบุ factor levels เป็น `\"Male\"` และ `\"Female\"` ใน `factor_survey_vector` ช่วยให้ R สามารถสรุปจำนวนตัวอย่างในแต่ละกลุ่มให้คุณได้

test_output_contains("summary(survey_vector)", incorrect_msg = print(msg_1, "`survey_vector`", msg_2))
test_output_contains("summary(factor_survey_vector)", incorrect_msg = print(msg_1, "`factor_survey_vector`", msg_2))
success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:90ecc160d1ebf2f75bf53f9c3843fc1632bdd0a5
## การต่อสู้กันของเพศตรงข้าม

ในตัวแปร `factor_survey_vector` เรามี factor อยู่ 2 แบบคือ Male และ Female ตอนนี้เราอยากจะรู้ว่า R ให้ค่ากับ factor ทั้ง 2 นี้แตกต่างกันหรือไม่?

*** =instructions
ลองอ่านโค้ดใน editor แล้วกดปุ่ม 'Submit Answer' เพื่อดูว่า R ให้ค่าผู้ชายมากกว่าผู้หญิงหรือไม่

*** =hint
แค่กดปุ่ม 'Submit Answer' แล้วดูผลลัพธ์บน Console ก็พอ

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")

# Male
male <- factor_survey_vector[1]

# Female
female <- factor_survey_vector[2]

# Battle of the sexes: Male 'larger' than female?
male > female
```

*** =solution
```{r}
# Build factor_survey_vector with clean levels
survey_vector <- c("M", "F", "F", "M", "M")
factor_survey_vector <- factor(survey_vector)
levels(factor_survey_vector) <- c("Female", "Male")

# Male
male <- factor_survey_vector[1]

# Female
female <- factor_survey_vector[2]

# Battle of the sexes: Male 'larger' than female?
male > female
```

*** =sct
```{r}
msg = "&#3629;&#3618;&#3656;&#3634;&#3648;&#3611;&#3621;&#3637;&#3656;&#3618;&#3609;&#3649;&#3611;&#3621;&#3591;&#3650;&#3588;&#3657;&#3604;&#32;&#3649;&#3588;&#3656;&#3585;&#3604;&#3611;&#3640;&#3656;&#3617;&#32;&#39;&#83;&#117;&#98;&#109;&#105;&#116;&#32;&#65;&#110;&#115;&#119;&#101;&#114;&#39;&#32;&#3649;&#3621;&#3657;&#3623;&#3619;&#3629;&#3604;&#3641;&#3612;&#3621;&#3621;&#3633;&#3614;&#3608;&#3660;"
# อย่าเปลี่ยนแปลงโค้ด แค่กดปุ่ม 'Submit Answer' แล้วรอดูผลลัพธ์

test_object("survey_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("factor_survey_vector", eq_condition = "equal", undefined_msg = msg, incorrect_msg = msg)
test_object("male", undefined_msg = msg, incorrect_msg = msg)
test_object("female", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("male > female", incorrect_msg = msg)

success_msg <- "&#3650;&#3621;&#3656;&#3591;&#3629;&#3585;&#3652;&#3611;&#3607;&#3637;&#46;&#46;&#46;&#32;&#3604;&#3641;&#3648;&#3627;&#3617;&#3639;&#3629;&#3609;&#32;&#82;&#32;&#3592;&#3632;&#3617;&#3629;&#3591;&#3623;&#3656;&#3634;&#3648;&#3614;&#3624;&#3607;&#3633;&#3657;&#3591;&#32;&#50;&#32;&#3609;&#3633;&#3657;&#3609;&#3648;&#3607;&#3656;&#3634;&#3648;&#3607;&#3637;&#3618;&#3617;&#3585;&#3633;&#3609;&#32;&#3648;&#3619;&#3634;&#3652;&#3611;&#3604;&#3641;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3585;&#3633;&#3609;&#3604;&#3637;&#3585;&#3623;&#3656;&#3634;"
# โล่งอกไปที... ดูเหมือน R จะมองว่าเพศทั้ง 2 นั้นเท่าเทียมกัน เราไปดูแบบฝึกหัดต่อไปกันดีกว่า

success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:9ab0928916bf84ab225713a9a1ce40d9e322c6a0
## การสร้าง Factor แบบ Ordinal

ในตัวอย่างที่แล้ว เนื่องจาก `"Male"` และ `"Female"` เป็น factor ที่ไม่สามารถเรียงลำดับได้(nominal) R จึงส่งข้อความเตือนออกมาว่าเครื่องหมายมากกว่า (`>`) นั้นไม่มีความหมายในการเปรียบเทียบ และ factor ทั้ง 2 ตัวถือว่าอยู่ในระดับเดียวกัน

แต่เมื่อคุณต้องทำงานกับ factor ที่สามารถเรียงลำดับได้ใน R คุณต้องแน่ใจว่าได้ระบุลำดับของ factor เหล่านี้อย่างชัดเจนแล้ว

สมมติว่าคุณเป็นหัวหน้าทีมที่มีนักวิเคราะห์ข้อมูล 5 คน และคุณต้องการที่จะประเมินความเร็วในการทำงานของแต่ละคน คุณจึงแบ่งระดับความเร็วออกเป็น `"slow"`, `"fast"` หรือ `"insane"` และเก็บผลลัพธ์ไว้ในตัวแปร `speed_vector`

*** =instructions
ขั้นแรก ให้คุณกำหนดให้ตัวแปร `speed_vector` มีค่าเป็น vector ที่มีข้อมูล 5 ตัวสำหรับนักวิเคราะห์ข้อมูลแต่ละคน ข้อมูลแต่ละตัวควรมีค่าเป็น `"slow"`, `"fast"` หรือ `"insane"` เท่านั้น โดยอ้างอิงตามข้อมูลด้านล่าง:

- Analyst 1 ให้เป็น fast
- Analyst 2 ให้เป็น slow
- Analyst 3 ให้เป็น slow
- Analyst 4 ให้เป็น fast
- Analyst 5 ให้เป็น insane

โดยที่ยังไม่จำเป็นต้องระบุว่าข้อมูลเหล่านี้เป็น factor

*** =hint
กำหนดให้ `speed_vector` มีค่าเป็น vector ของข้อมูลตัวอักษรที่มีค่าเป็น `"fast"`, `"slow"` ...

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Create speed_vector
speed_vector <-
```

*** =solution
```{r}
# Create speed_vector
speed_vector <- c("fast", "slow", "slow", "fast", "insane")
```

*** =sct
```{r}
incorrect_msg <- paste("`speed_vector`", "&#3588;&#3623;&#3619;&#3617;&#3637;&#3588;&#3656;&#3634;&#3648;&#3611;&#3655;&#3609;&#32;&#118;&#101;&#99;&#116;&#111;&#114;&#32;&#3607;&#3637;&#3656;&#3617;&#3637;&#3586;&#3657;&#3629;&#3617;&#3641;&#3621;&#32;&#53;&#32;&#3605;&#3633;&#3623;&#32;&#3649;&#3605;&#3656;&#3621;&#3632;&#3605;&#3633;&#3623;&#3649;&#3607;&#3609;&#3619;&#3632;&#3604;&#3633;&#3610;&#3588;&#3623;&#3634;&#3617;&#3648;&#3619;&#3655;&#3623;&#3651;&#3609;&#3585;&#3634;&#3619;&#3607;&#3635;&#3591;&#3634;&#3609;&#3586;&#3629;&#3591;&#3609;&#3633;&#3585;&#3623;&#3636;&#3648;&#3588;&#3619;&#3634;&#3632;&#3627;&#3660;&#3649;&#3605;&#3656;&#3621;&#3632;&#3588;&#3609;&#32;&#3649;&#3621;&#3632;&#3629;&#3618;&#3656;&#3634;&#3651;&#3594;&#3657;&#3616;&#3634;&#3625;&#3634;&#3629;&#3633;&#3591;&#3585;&#3620;&#3625;&#3605;&#3633;&#3623;&#3614;&#3636;&#3617;&#3614;&#3660;&#3651;&#3627;&#3597;&#3656;&#32;&#40;&#82;&#32;&#3648;&#3611;&#3655;&#3609;&#3616;&#3634;&#3625;&#3634;&#3607;&#3637;&#3656;&#32;&#99;&#97;&#115;&#101;&#32;&#115;&#101;&#110;&#115;&#105;&#116;&#105;&#118;&#101;&#33;&#41;")
# `speed_vector` ควรมีค่าเป็น vector ที่มีข้อมูล 5 ตัว แต่ละตัวแทนระดับความเร็วในการทำงานของนักวิเคราะห์แต่ละคน และอย่าใช้ภาษาอังกฤษตัวพิมพ์ใหญ่ (R เป็นภาษาที่ case sensitive!)

success_msg <- "&#3607;&#3635;&#3652;&#3604;&#3657;&#3604;&#3637;&#3617;&#3634;&#3585;&#33;&#32;&#3652;&#3611;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3652;&#3604;&#3657;&#3648;&#3621;&#3618;"
# ทำได้ดีมาก! ไปแบบฝึกหัดต่อไปได้เลย

test_object("speed_vector", incorrect_msg = incorrect_msg)
success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:279077d10248ce03d5f972939ef8576430a16683
## การสร้าง Factor แบบ Ordinal (2)

`speed_vector` ควรถูกแปลงเป็น factor แบบ ordinal เนื่องจากเราสามารถเรียงลำดับระดับความเร็วในการทำงานได้ โดยปกติแล้ว function [`factor()`](http://www.rdocumentation.org/packages/base/functions/factor) จะทำการเปลี่ยน `speed_vector` เป็น factor แบบที่ไม่มีการเรียงลำดับ(nominal) ถ้าคุณไม่ได้ใส่ argument เพิ่มเติมให้กับมัน ดังนั้นในการสร้าง factor แบบ ordinal คุณจึงต้องเพิ่ม argument ใหม่เข้าไป 2 ตัว ได้แก่ `ordered` และ `levels` ลองดูตัวอย่างโค้ดได้ด้านล่าง:

```
factor(some_vector,
       ordered = TRUE,
       levels = c("lev1", "lev2" ...))
```

การตั้งค่า argument `ordered` ให้เป็น `TRUE` ใน function [`factor()`](http://www.rdocumentation.org/packages/base/functions/factor) คือการบอก R ว่า factor ที่กำลังจะสร้างนั้นเป็นแบบที่สามารถเรียงลำดับได้ และคุณจะบอกลำดับที่ถูกต้องของ factor เหล่านั้นลงไปใน argument `levels`

*** =instructions
จากตัวแปร `speed_vector` ให้คุณสร้าง factor แบบ ordinal ลงไปในตัวแปร `factor_speed_vector` ตั้งค่า `ordered` เป็น `TRUE` และ `levels` ให้เป็น `c("slow", "fast", "insane")`

*** =hint
ใช้ function [`factor()`](http://www.rdocumentation.org/packages/base/functions/factor) ในการสร้างตัวแปร `factor_speed_vector` โดยใช้ข้อมูล factor จาก `speed_character_vector` argument `ordered` ควรมีค่าเป็น `TRUE` เพื่อเป็นการบอก R ว่า factor เหล่านี้มีการเรียงลำดับ และคุณควรใส่ argument อีกตัวหนึ่งที่เป็นการระบุลำดับของ factor ว่า `levels = c("slow", "fast", "insane")`

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Create speed_vector
speed_vector <- c("fast", "slow", "slow", "fast", "insane")

# Convert speed_vector to ordered factor vector
factor_speed_vector <-

# Print factor_speed_vector
factor_speed_vector
summary(factor_speed_vector)
```

*** =solution
```{r}
# Create speed_vector
speed_vector <- c("fast", "slow", "slow", "fast", "insane")

# Add your code below
factor_speed_vector <- factor(speed_vector, ordered = TRUE, levels = c("slow", "fast", "insane"))

# Print factor_speed_vector
factor_speed_vector
summary(factor_speed_vector)
```

*** =sct
```{r}
msg <- paste("&#3629;&#3618;&#3656;&#3634;&#3648;&#3611;&#3621;&#3637;&#3656;&#3618;&#3609;&#3649;&#3611;&#3621;&#3591;&#3588;&#3656;&#3634;&#3586;&#3629;&#3591;", "`speed_vector`")
# อย่าเปลี่ยนแปลงค่าของ `speed_vector`

x_msg <- paste("&#97;&#114;&#103;&#117;&#109;&#101;&#110;&#116;&#32;&#3605;&#3633;&#3623;&#3649;&#3619;&#3585;&#3586;&#3629;&#3591;&#32;&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;", "`factor()`", "&#3588;&#3623;&#3619;&#3648;&#3611;&#3655;&#3609;", "`speed_vector`")
# argument ตัวแรกของ function `factor()` ควรเป็น `speed_vector`

ordered_msg <- paste("&#3629;&#3618;&#3656;&#3634;&#3621;&#3639;&#3617;&#3605;&#3633;&#3657;&#3591;&#3588;&#3656;&#3634;&#3651;&#3627;&#3657;", "`ordered = TRUE`", "&#3651;&#3609;&#32;&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;", "`factor()`")
# อย่าลืมตั้งค่าให้ `ordered = TRUE` ใน function `factor()`

levels_msg <- paste("&#3605;&#3619;&#3623;&#3592;&#3626;&#3629;&#3610;&#3651;&#3627;&#3657;&#3649;&#3609;&#3656;&#3651;&#3592;&#3623;&#3656;&#3634;&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3651;&#3626;&#3656;", "`levels = c(\"slow\", \"fast\", \"insane\")`", "&#3621;&#3591;&#3652;&#3611;&#3651;&#3609;&#32;&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;", "`factor()`")
# ตรวจสอบให้แน่ใจว่าคุณได้ใส่ `levels = c(\"slow\", \"fast\", \"insane\")` ลงไปใน function `factor()`

incorrect_msg <- paste("&#3604;&#3641;&#3648;&#3627;&#3617;&#3639;&#3629;&#3609;&#3623;&#3656;&#3634;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;", "`factor_speed_vector`", "&#3592;&#3632;&#3618;&#3633;&#3591;&#3612;&#3636;&#3604;&#3629;&#3618;&#3641;&#3656;&#32;&#3605;&#3619;&#3623;&#3592;&#3626;&#3629;&#3610;&#3651;&#3627;&#3657;&#3649;&#3609;&#3656;&#3651;&#3592;&#3623;&#3656;&#3634;&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3651;&#3626;&#3656;&#32;&#97;&#114;&#103;&#117;&#109;&#101;&#110;&#116;", "`speed_vector`, `ordered = TRUE`", "&#3649;&#3621;&#3632;", "`levels = c(\"slow\", \"fast\", \"insane\")`", "&#3621;&#3591;&#3652;&#3611;&#3651;&#3609;&#32;&#102;&#117;&#110;&#99;&#116;&#105;&#111;&#110;", "`factor()`", "&#3629;&#3618;&#3656;&#3634;&#3591;&#3606;&#3641;&#3585;&#3605;&#3657;&#3629;&#3591;")
# ดูเหมือนว่าตัวแปร `factor_speed_vector` จะยังผิดอยู่ ตรวจสอบให้แน่ใจว่าคุณได้ใส่ argument `speed_vector`, `ordered = TRUE` และ `levels = c(\"slow\", \"fast\", \"insane\")` ลงไปใน function `factor()` อย่างถูกต้อง

success_msg <- "&#3648;&#3618;&#3637;&#3656;&#3618;&#3617;&#3617;&#3634;&#3585;&#33;&#32;&#3621;&#3629;&#3591;&#3604;&#3641;&#3607;&#3637;&#3656;&#32;&#67;&#111;&#110;&#115;&#111;&#108;&#101;&#32;&#3588;&#3640;&#3603;&#3592;&#3632;&#3648;&#3627;&#3655;&#3609;&#3623;&#3656;&#3634;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#108;&#101;&#118;&#101;&#108;&#115;&#32;&#3617;&#3637;&#3621;&#3635;&#3604;&#3633;&#3610;&#3585;&#3635;&#3627;&#3609;&#3604;&#3652;&#3623;&#3657;&#3604;&#3657;&#3623;&#3618;&#32;&#3607;&#3637;&#3609;&#3637;&#3657;&#3588;&#3640;&#3603;&#3585;&#3655;&#3626;&#3634;&#3617;&#3634;&#3619;&#3606;&#3651;&#3594;&#3657;&#3648;&#3588;&#3619;&#3639;&#3656;&#3629;&#3591;&#3627;&#3617;&#3634;&#3618;&#3648;&#3611;&#3619;&#3637;&#3618;&#3610;&#3648;&#3607;&#3637;&#3618;&#3610;&#3585;&#3633;&#3610;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#3652;&#3604;&#3657;&#3649;&#3621;&#3657;&#3623;&#32;&#3652;&#3611;&#3604;&#3641;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3605;&#3656;&#3629;&#3652;&#3611;&#3585;&#3633;&#3609;&#3648;&#3621;&#3618;"
# เยี่ยมมาก! ลองดูที่ Console คุณจะเห็นว่า factor levels มีลำดับกำหนดไว้ด้วย ทีนี้คุณก็สามารถใช้เครื่องหมายเปรียบเทียบกับ factor ได้แล้ว ไปดูแบบฝึกหัดต่อไปกันเลย

test_object("speed_vector", undefined_msg = msg, incorrect_msg = msg)
test_function("factor", args = c("x", "ordered", "levels"), incorrect_msg = c(x_msg, ordered_msg, levels_msg))
test_object("factor_speed_vector", eq_condition = "equal", incorrect_msg = incorrect_msg)
success_msg(success_msg)
```


--- type:NormalExercise xp:100 skills:1 key:db16e69805625bcfde227743a8cbc985f8482a37
## การเปรียบเทียบ Factor แบบ Ordinal

นักวิเคราะห์คนที่ 2 เข้ามาหาคุณที่ออฟฟิศแล้วบอกคุณว่านักวิเคราะห์คนที่ 5 กำลังทำให้งานของพวกเขาล่าช้า แต่คุณยังไม่ปักใจเชื่อในสิ่งที่นักวิเคราะห์คนที่ 2 บอกกับคุณ คุณจึงตัดสินใจที่จะตรวจสอบความจริงเสียก่อนว่าสิ่งที่เขาพูดเป็นความจริงหรือไม่

ในตอนนี้เรามี `factor_speed_vector` ซึ่งเป็น factor แบบ ordinal แล้ว เราจึงสามารถเปรียบเทียบ factor แต่ละตัวซึ่งบ่งบอกถึงระดับความเร็วในการทำงานของนักวิเคราะห์แต่ละคนได้ โดยคุณสามารถทำการเปรียบเทียบได้โดยใช้คำสั่งเปรียบเทียบทั่วๆไป (`>`, `<`, `>=`, `<=`, `==` หรือ `!=`)

*** =instructions
- ใช้คำสั่ง `[2]` เพื่อเลือกความเร็วในการทำงานของนักวิเคราะห์คนที่ 2 จาก `factor_speed_vector` แล้วเก็บค่าไว้ในตัวแปร `da2`.
- ใช้คำสั่ง `[5]` เพื่อเลือกความเร็วในการทำงานของนักวิเคราะห์คนที่ 5 จาก `factor_speed_vector` แล้วเก็บค่าไว้ในตัวแปร `da5`.
- ลองเปรียบเทียบและแสดงผลลัพธ์ดูว่า `da2` มากกว่า `da5` หรือไม่ คุณสามารถใช้เครื่องหมาย `>` ในการเปรียบเทียบ factor ทั้ง 2 ตัวได้เลย

*** =hint
- ในการจะดึงข้อมูลความเร็วในการทำงานของนักวิเคราะห์คนที่ 3 (แบบ factor) คุณต้องใช้คำสั่ง `factor_speed_vector[3]`
- ในการเปรียบเทียบค่า คุณสามารถใช้คำสั่ง `>` ได้ เช่น: `da3 > da4`

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Create factor_speed_vector
speed_vector <- c("fast", "slow", "slow", "fast", "insane")
factor_speed_vector <- factor(speed_vector, ordered = TRUE, levels = c("slow", "fast", "insane"))

# Factor value for second data analyst
da2 <-

# Factor value for fifth data analyst
da5 <-

# Is data analyst 2 faster than data analyst 5?

```

*** =solution
```{r}
# Create factor_speed_vector
speed_vector <- c("fast", "slow", "slow", "fast", "insane")
factor_speed_vector <- factor(speed_vector, ordered = TRUE, levels = c("slow", "fast", "insane"))

# Factor value for second data analyst
da2 <- factor_speed_vector[2]

# Factor value for fifth data analyst
da5 <- factor_speed_vector[5]

# Is data analyst 2 faster data analyst 5?
da2 > da5
```

*** =sct
```{r}
msg <- paste("&#3629;&#3618;&#3656;&#3634;&#3648;&#3611;&#3621;&#3637;&#3656;&#3618;&#3609;&#3649;&#3611;&#3621;&#3591;&#3588;&#3656;&#3634;&#3586;&#3629;&#3591;", "`speed_vector`", "&#3649;&#3621;&#3632;", "`factor_speed_vector`")
# อย่าเปลี่ยนแปลงค่าของ `speed_vector` และ `factor_speed_vector`

test_object("speed_vector", undefined_msg = msg, incorrect_msg = msg)
test_object("factor_speed_vector", eq_condition = "equal", undefined_msg = msg, incorrect_msg = msg)

object_msg_1 <- "&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3648;&#3621;&#3639;&#3629;&#3585;&#3586;&#3657;&#3629;&#3617;&#3641;&#3621;&#3588;&#3623;&#3634;&#3617;&#3648;&#3619;&#3655;&#3623;&#3651;&#3609;&#3585;&#3634;&#3619;&#3607;&#3635;&#3591;&#3634;&#3609;&#3586;&#3629;&#3591;&#3609;&#3633;&#3585;&#3623;&#3636;&#3648;&#3588;&#3619;&#3634;&#3632;&#3627;&#3660;&#3588;&#3609;&#3607;&#3637;&#3656; Have you correctly selected the factor value for the %s data analyst? You can use `factor_speed_vector[%s]`."
# คุณได้เลือกข้อมูลความเร็วในการทำงานของนักวิเคราะห์คนที่

object_msg_2 <- "&#3627;&#3619;&#3639;&#3629;&#3648;&#3611;&#3621;&#3656;&#3634;&#63;&#32;&#3651;&#3609;&#3585;&#3634;&#3619;&#3648;&#3621;&#3639;&#3629;&#3585;&#3586;&#3657;&#3629;&#3617;&#3641;&#3621;&#3605;&#3633;&#3623;&#3606;&#3641;&#3585;&#3605;&#3657;&#3629;&#3591;&#3588;&#3640;&#3603;&#3605;&#3657;&#3629;&#3591;&#3651;&#3594;&#3657;&#3588;&#3635;&#3626;&#3633;&#3656;&#3591;"
# หรือเปล่า? ในการเลือกข้อมูลตัวถูกต้องคุณต้องใช้คำสั่ง

output_msg <- paste("&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3648;&#3611;&#3619;&#3637;&#3618;&#3610;&#3648;&#3607;&#3637;&#3618;&#3610;&#3605;&#3633;&#3623;&#3649;&#3611;&#3619;", "`da2`", "&#3649;&#3621;&#3632;", "`da25", "&#3650;&#3604;&#3618;&#3651;&#3594;&#3657;&#3648;&#3588;&#3619;&#3639;&#3656;&#3629;&#3591;&#3627;&#3617;&#3634;&#3618;", "`>`", "&#3652;&#3627;&#3617;&#63;&#32;&#3649;&#3621;&#3632;&#3629;&#3618;&#3656;&#3634;&#3621;&#3639;&#3617;&#3626;&#3633;&#3656;&#3591;&#3649;&#3626;&#3604;&#3591;&#3612;&#3621;&#3621;&#3633;&#3614;&#3608;&#3660;&#3629;&#3629;&#3585;&#3617;&#3634;&#3604;&#3657;&#3623;&#3618;")
# คุณได้เปรียบเทียบตัวแปร `da2` และ `da5` โดยใช้เครื่องหมาย `>` ไหม? และอย่าลืมสั่งแสดงผลลัพธ์ออกมาด้วย

success_msg <- "&#3648;&#3618;&#3637;&#3656;&#3618;&#3617;&#3618;&#3629;&#3604;&#33;&#32;&#3612;&#3621;&#3621;&#3633;&#3614;&#3608;&#3660;&#3592;&#3634;&#3585;&#3649;&#3610;&#3610;&#3613;&#3638;&#3585;&#3627;&#3633;&#3604;&#3609;&#3637;&#3657;&#3610;&#3629;&#3585;&#3629;&#3632;&#3652;&#3619;&#3585;&#3633;&#3610;&#3588;&#3640;&#3603;&#3610;&#3657;&#3634;&#3591;&#63;&#32;&#3609;&#3633;&#3585;&#3623;&#3636;&#3648;&#3588;&#3619;&#3634;&#3632;&#3627;&#3660;&#3588;&#3609;&#3607;&#3637;&#3656;&#32;&#50;&#32;&#3610;&#3656;&#3609;&#3623;&#3656;&#3634;&#3609;&#3633;&#3585;&#3623;&#3636;&#3648;&#3588;&#3619;&#3634;&#3632;&#3627;&#3660;&#3588;&#3609;&#3607;&#3637;&#3656;&#32;&#53;&#32;&#3607;&#3635;&#3591;&#3634;&#3609;&#3594;&#3657;&#3634;&#32;&#3607;&#3633;&#3657;&#3591;&#3607;&#3637;&#3656;&#3592;&#3619;&#3636;&#3591;&#3649;&#3621;&#3657;&#3623;&#3605;&#3633;&#3623;&#3648;&#3586;&#3634;&#3648;&#3629;&#3591;&#3609;&#3633;&#3656;&#3609;&#3649;&#3627;&#3621;&#3632;&#3588;&#3639;&#3629;&#3588;&#3609;&#3607;&#3637;&#3656;&#3607;&#3635;&#3651;&#3627;&#3657;&#3607;&#3640;&#3585;&#3629;&#3618;&#3656;&#3634;&#3591;&#3594;&#3657;&#3634;&#3621;&#3591;&#33;&#32;&#3648;&#3607;&#3656;&#3634;&#3609;&#3637;&#3657;&#3585;&#3655;&#3648;&#3611;&#3655;&#3609;&#3629;&#3633;&#3609;&#3592;&#3610;&#3610;&#3607;&#3607;&#3637;&#3656;&#32;&#52;&#32;&#3651;&#3609;&#3605;&#3629;&#3609;&#3609;&#3637;&#3657;&#3588;&#3640;&#3603;&#3585;&#3655;&#3617;&#3637;&#3588;&#3623;&#3634;&#3617;&#3619;&#3641;&#3657;&#3614;&#3639;&#3657;&#3609;&#3600;&#3634;&#3609;&#3648;&#3585;&#3637;&#3656;&#3618;&#3623;&#3585;&#3633;&#3610;&#32;&#118;&#101;&#99;&#116;&#111;&#114;&#44;&#32;&#109;&#97;&#116;&#114;&#105;&#120;&#32;&#3649;&#3621;&#3632;&#32;&#102;&#97;&#99;&#116;&#111;&#114;&#32;&#3649;&#3621;&#3657;&#3623;&#32;&#3651;&#3609;&#3610;&#3607;&#3605;&#3656;&#3629;&#3652;&#3611;&#3648;&#3619;&#3634;&#3592;&#3632;&#3651;&#3627;&#3657;&#3588;&#3640;&#3603;&#3652;&#3604;&#3657;&#3648;&#3619;&#3637;&#3618;&#3609;&#3619;&#3641;&#3657;&#3648;&#3585;&#3637;&#3656;&#3618;&#3623;&#3585;&#3633;&#3610;&#32;&#100;&#97;&#116;&#97;&#32;&#102;&#114;&#97;&#109;&#101;&#32;&#3595;&#3638;&#3656;&#3591;&#3648;&#3611;&#3655;&#3609;&#32;&#100;&#97;&#116;&#97;&#32;&#115;&#116;&#114;&#117;&#99;&#116;&#117;&#114;&#101;&#32;&#3629;&#3637;&#3585;&#3619;&#3641;&#3611;&#3649;&#3610;&#3610;&#3627;&#3609;&#3638;&#3656;&#3591;&#3607;&#3637;&#3656;&#3626;&#3635;&#3588;&#3633;&#3597;&#3617;&#3634;&#3585;&#3654;&#3651;&#3609;&#32;&#82;&#33;"
# เยี่ยมยอด! ผลลัพธ์จากแบบฝึกหัดนี้บอกอะไรกับคุณบ้าง? นักวิเคราะห์คนที่ 2 บ่นว่านักวิเคราะห์คนที่ 5 ทำงานช้า ทั้งที่จริงแล้วตัวเขาเองนั่นแหละคือคนที่ทำให้ทุกอย่างช้าลง! เท่านี้ก็เป็นอันจบบทที่ 4 ในตอนนี้คุณก็มีความรู้พื้นฐานเกี่ยวกับ vector, matrix และ factor แล้ว ในบทต่อไปเราจะให้คุณได้เรียนรู้เกี่ยวกับ data frame ซึ่งเป็น data structure อีกรูปแบบหนึ่งที่สำคัญมากๆใน R!

test_object("da2", eq_condition = "equal", incorrect_msg = paste(object_msg_1, "2", object_msg_2, "2"))
test_object("da5", eq_condition = "equal", incorrect_msg = paste(object_msg_1, "5", object_msg_2, "5"))
test_output_contains("da2 > da5", incorrect_msg = output_msg)

success_msg(success_msg)
```



